# 超市管理系统数据库设计文档

## 数据库结构总览

本数据库包含 **72 张数据表**，按功能模块划分如下：

| 模块名称     | 表数量 | 主要功能描述                   |
| :----------- | :----- | :----------------------------- |
| 核心数据管理 | 8      | 用户权限、组织架构和日志管理   |
| 收银销售管理 | 16     | 商品管理、交易处理和促销活动   |
| 采购库存管理 | 14     | 供应商管理、采购流程和库存控制 |
| 人事行政管理 | 14     | 员工管理、考勤绩效和任务分配   |
| 后勤资产管理 | 12     | 设备管理、维护记录和服务合同   |
| 报表分析管理 | 8      | 销售分析、库存统计和财务报表   |
| 会员扩展管理 | 8      | 会员管理、线上订单和消息通知   |

------

## 核心数据管理模块

### 1. departments（部门表）

| 字段名          | 数据类型    | 键类型 | 描述                   |
| :-------------- | :---------- | :----- | :--------------------- |
| department_id   | BIGINT      | 主键   | 部门唯一标识符（自增） |
| department_name | VARCHAR(50) |        | 部门名称               |
| created_at      | DATETIME    |        | 创建时间               |

**任务**：存储超市组织架构中的部门基本信息。

### 2. roles（角色表）

| 字段名      | 数据类型     | 键类型 | 描述               |
| :---------- | :----------- | :----- | :----------------- |
| role_id     | BIGINT       | 主键   | 角色唯一ID（自增） |
| role_name   | VARCHAR(50)  |        | 角色名称           |
| description | VARCHAR(255) |        | 角色描述           |

**任务**：定义系统用户的权限角色。

### 3. permissions（权限表）

| 字段名          | 数据类型     | 键类型 | 描述           |
| :-------------- | :----------- | :----- | :------------- |
| permission_id   | BIGINT       | 主键   | 权限ID（自增） |
| permission_name | VARCHAR(50)  |        | 权限名称       |
| description     | VARCHAR(255) |        | 权限描述       |

**任务**：存储系统操作权限明细。

### 4. users（用户信息表）

| 字段名        | 数据类型     | 键类型 | 描述                  |
| :------------ | :----------- | :----- | :-------------------- |
| user_id       | BIGINT       | 主键   | 用户ID（自增）        |
| username      | VARCHAR(50)  | 索引   | 登录用户名            |
| password      | VARCHAR(100) |        | 加密密码              |
| full_name     | VARCHAR(100) |        | 用户全名              |
| department_id | BIGINT       | 外键   | 关联部门ID            |
| status        | TINYINT(1)   |        | 账户状态(1启用/0禁用) |
| last_login    | DATETIME     |        | 最后登录时间          |
| created_at    | DATETIME     |        | 账户创建时间          |

**任务**：管理系统用户账户和基本信息。

### 5. user_role_mapping（用户-角色关联表）

| 字段名     | 数据类型 | 键类型 | 描述           |
| :--------- | :------- | :----- | :------------- |
| mapping_id | BIGINT   | 主键   | 映射ID（自增） |
| user_id    | BIGINT   | 外键   | 用户ID         |
| role_id    | BIGINT   | 外键   | 角色ID         |

**任务**：建立用户与角色的多对多关系。

### 6. role_permission_mapping（角色-权限映射表）

| 字段名        | 数据类型 | 键类型 | 描述           |
| :------------ | :------- | :----- | :------------- |
| mapping_id    | BIGINT   | 主键   | 映射ID（自增） |
| role_id       | BIGINT   | 外键   | 角色ID         |
| permission_id | BIGINT   | 外键   | 权限ID         |

**任务**：定义角色拥有的权限集合。

### 7. logs（系统日志表）

| 字段名    | 数据类型     | 键类型 | 描述           |
| :-------- | :----------- | :----- | :------------- |
| log_id    | BIGINT       | 主键   | 日志ID（自增） |
| user_id   | BIGINT       | 外键   | 操作用户ID     |
| action    | VARCHAR(100) |        | 操作行为描述   |
| timestamp | DATETIME     | 索引   | 操作时间       |

**任务**：记录系统关键操作日志。

### 8. employees（员工信息表）

| 字段名        | 数据类型     | 键类型 | 描述            |
| :------------ | :----------- | :----- | :-------------- |
| employee_id   | BIGINT       | 主键   | 员工ID（自增）  |
| user_id       | BIGINT       | 外键   | 关联用户ID      |
| name          | VARCHAR(100) | 索引   | 员工姓名        |
| gender        | VARCHAR(10)  |        | 性别            |
| position      | VARCHAR(100) |        | 职位            |
| department_id | BIGINT       | 外键   | 所属部门ID      |
| phone         | VARCHAR(20)  |        | 联系电话        |
| hire_date     | DATE         |        | 入职日期        |
| status        | TINYINT(1)   |        | 在职状态(1在职) |

**任务**：存储员工详细信息。

------

## 收银销售管理模块

### 1. categories（商品分类表）

| 字段名        | 数据类型    | 键类型 | 描述           |
| :------------ | :---------- | :----- | :------------- |
| category_id   | BIGINT      | 主键   | 分类ID（自增） |
| category_name | VARCHAR(50) |        | 分类名称       |
| parent_id     | BIGINT      |        | 父分类ID       |

**任务**：管理商品分类层级结构。

### 2. brands（品牌表）

| 字段名      | 数据类型     | 键类型 | 描述           |
| :---------- | :----------- | :----- | :------------- |
| brand_id    | BIGINT       | 主键   | 品牌ID（自增） |
| brand_name  | VARCHAR(50)  |        | 品牌名称       |
| description | VARCHAR(255) |        | 品牌描述       |

**任务**：存储商品品牌信息。

### 3. products（商品信息表）

| 字段名      | 数据类型      | 键类型   | 描述            |
| :---------- | :------------ | :------- | :-------------- |
| product_id  | BIGINT        | 主键     | 商品ID（自增）  |
| name        | VARCHAR(100)  | 索引     | 商品名称        |
| category_id | BIGINT        | 外键     | 分类ID          |
| brand_id    | BIGINT        | 外键     | 品牌ID          |
| price       | DECIMAL(10,2) |          | 销售价格        |
| cost_price  | DECIMAL(10,2) |          | 成本价格        |
| unit        | VARCHAR(20)   |          | 计量单位        |
| barcode     | VARCHAR(50)   | 唯一索引 | 商品条码        |
| status      | TINYINT(1)    |          | 商品状态(1可用) |

**任务**：管理所有商品基本信息。

### 4. discount_rules（折扣规则类型表）

| 字段名    | 数据类型    | 键类型 | 描述           |
| :-------- | :---------- | :----- | :------------- |
| rule_id   | INT         | 主键   | 规则ID（自增） |
| rule_name | VARCHAR(50) |        | 规则名称       |

**任务**：定义折扣类型（满减、折扣率等）。

### 5. discounts（折扣规则表）

| 字段名      | 数据类型      | 键类型 | 描述           |
| :---------- | :------------ | :----- | :------------- |
| discount_id | BIGINT        | 主键   | 折扣ID（自增） |
| rule_id     | INT           | 外键   | 规则类型ID     |
| value       | DECIMAL(10,2) |        | 折扣值         |
| start_time  | DATETIME      |        | 活动开始时间   |
| end_time    | DATETIME      |        | 活动结束时间   |

**任务**：管理具体的折扣活动。

### 6. coupons（优惠券表）

| 字段名         | 数据类型      | 键类型 | 描述             |
| :------------- | :------------ | :----- | :--------------- |
| coupon_id      | BIGINT        | 主键   | 优惠券ID（自增） |
| code           | VARCHAR(50)   |        | 优惠券代码       |
| discount_value | DECIMAL(10,2) |        | 优惠券面值       |
| valid_from     | DATETIME      |        | 有效期开始       |
| valid_to       | DATETIME      |        | 有效期结束       |

**任务**：存储可发行的优惠券信息。

### 7. payment_methods（支付方式表）

| 字段名      | 数据类型    | 键类型 | 描述         |
| :---------- | :---------- | :----- | :----------- |
| method_id   | BIGINT      | 主键   | 支付方式ID   |
| method_name | VARCHAR(50) |        | 支付方式名称 |

**任务**：管理支持的支付方式（现金、信用卡等）。

### 8. sales_records（销售记录表）

| 字段名            | 数据类型      | 键类型 | 描述           |
| :---------------- | :------------ | :----- | :------------- |
| sale_id           | BIGINT        | 主键   | 销售ID（自增） |
| cashier_id        | BIGINT        | 外键   | 收银员ID       |
| total_amount      | DECIMAL(15,2) |        | 订单总金额     |
| payment_method_id | BIGINT        | 外键   | 支付方式ID     |
| sale_time         | DATETIME      | 索引   | 销售时间       |

**任务**：记录每笔销售交易。

### 9. sales_details（销售明细表）

| 字段名     | 数据类型      | 键类型 | 描述           |
| :--------- | :------------ | :----- | :------------- |
| detail_id  | BIGINT        | 主键   | 明细ID（自增） |
| sale_id    | BIGINT        | 外键   | 销售记录ID     |
| product_id | BIGINT        | 外键   | 商品ID         |
| quantity   | INT           |        | 销售数量       |
| price      | DECIMAL(10,2) |        | 销售单价       |
| subtotal   | DECIMAL(10,2) |        | 小计金额       |

**任务**：记录销售中的商品明细。

### 10. coupon_usage（优惠券使用记录表）

| 字段名    | 数据类型 | 键类型 | 描述           |
| :-------- | :------- | :----- | :------------- |
| usage_id  | BIGINT   | 主键   | 使用ID（自增） |
| coupon_id | BIGINT   | 外键   | 优惠券ID       |
| user_id   | BIGINT   | 外键   | 使用用户ID     |
| used_time | DATETIME |        | 使用时间       |

**任务**：跟踪优惠券使用情况。

### 11. returns（退货记录表）

| 字段名      | 数据类型 | 键类型 | 描述           |
| :---------- | :------- | :----- | :------------- |
| return_id   | BIGINT   | 主键   | 退货ID（自增） |
| sale_id     | BIGINT   | 外键   | 原销售ID       |
| reason      | TEXT     |        | 退货原因       |
| return_time | DATETIME |        | 退货时间       |

**任务**：管理商品退货记录。

### 12. return_details（退货明细表）

| 字段名     | 数据类型      | 键类型 | 描述           |
| :--------- | :------------ | :----- | :------------- |
| detail_id  | BIGINT        | 主键   | 明细ID（自增） |
| return_id  | BIGINT        | 外键   | 退货记录ID     |
| product_id | BIGINT        | 外键   | 商品ID         |
| quantity   | INT           |        | 退货数量       |
| amount     | DECIMAL(10,2) |        | 退款金额       |

**任务**：记录退货商品明细。

### 13. customers（会员客户表）

| 字段名       | 数据类型     | 键类型 | 描述           |
| :----------- | :----------- | :----- | :------------- |
| customer_id  | BIGINT       | 主键   | 会员ID（自增） |
| name         | VARCHAR(100) |        | 会员姓名       |
| phone        | VARCHAR(20)  |        | 联系电话       |
| email        | VARCHAR(100) |        | 电子邮箱       |
| member_since | DATETIME     |        | 注册时间       |

**任务**：管理会员客户信息。

### 14. member_cards（会员卡信息表）

| 字段名      | 数据类型    | 键类型 | 描述             |
| :---------- | :---------- | :----- | :--------------- |
| card_id     | BIGINT      | 主键   | 会员卡ID（自增） |
| customer_id | BIGINT      | 外键   | 会员ID           |
| card_number | VARCHAR(50) |        | 卡号             |
| points      | INT         |        | 积分余额         |
| status      | VARCHAR(20) |        | 卡片状态         |

**任务**：管理会员卡信息。

### 15. loyalty_points（积分记录表）

| 字段名      | 数据类型     | 键类型 | 描述           |
| :---------- | :----------- | :----- | :------------- |
| point_id    | BIGINT       | 主键   | 积分ID（自增） |
| customer_id | BIGINT       | 外键   | 会员ID         |
| amount      | INT          |        | 变动积分值     |
| reason      | VARCHAR(255) |        | 变动原因       |
| change_time | DATETIME     |        | 变动时间       |

**任务**：记录会员积分变动历史。

### 16. orders_online（线上订单表）

| 字段名         | 数据类型      | 键类型 | 描述           |
| :------------- | :------------ | :----- | :------------- |
| order_id       | BIGINT        | 主键   | 订单ID（自增） |
| customer_id    | BIGINT        | 外键   | 会员ID         |
| total_amount   | DECIMAL(15,2) |        | 订单总金额     |
| payment_status | VARCHAR(20)   |        | 支付状态       |
| order_time     | DATETIME      |        | 下单时间       |

**任务**：管理线上销售订单。

------

## 采购库存管理模块

### 1. suppliers（供应商信息表）

| 字段名         | 数据类型     | 键类型 | 描述              |
| :------------- | :----------- | :----- | :---------------- |
| supplier_id    | BIGINT       | 主键   | 供应商ID（自增）  |
| name           | VARCHAR(100) |        | 供应商名称        |
| contact_person | VARCHAR(100) |        | 联系人            |
| phone          | VARCHAR(20)  |        | 联系电话          |
| address        | VARCHAR(255) |        | 地址              |
| status         | TINYINT(1)   |        | 合作状态(1合作中) |

**任务**：管理商品供应商信息。

### 2. supplier_products（供应商供应商品表）

| 字段名       | 数据类型      | 键类型 | 描述           |
| :----------- | :------------ | :----- | :------------- |
| sp_id        | BIGINT        | 主键   | 供应ID（自增） |
| supplier_id  | BIGINT        | 外键   | 供应商ID       |
| product_id   | BIGINT        | 外键   | 商品ID         |
| supply_price | DECIMAL(10,2) |        | 供货价格       |
| lead_time    | INT           |        | 交货周期(天)   |

**任务**：记录供应商与商品的供应关系。

### 3. warehouses（仓库表）

| 字段名       | 数据类型     | 键类型 | 描述           |
| :----------- | :----------- | :----- | :------------- |
| warehouse_id | BIGINT       | 主键   | 仓库ID（自增） |
| name         | VARCHAR(100) |        | 仓库名称       |
| location     | VARCHAR(255) |        | 仓库位置       |
| capacity     | INT          |        | 仓库容量       |
| manager_id   | BIGINT       | 外键   | 负责人ID       |
| shelf_num    | VARCHAR(50)  |        | 货架号         |
| row_num      | VARCHAR(50)  |        | 行号           |
| column_num   | VARCHAR(50)  |        | 列号           |

**任务**：管理仓库基本信息。

### 4. purchase_orders（采购订单表）

| 字段名       | 数据类型      | 键类型 | 描述           |
| :----------- | :------------ | :----- | :------------- |
| order_id     | BIGINT        | 主键   | 订单ID（自增） |
| supplier_id  | BIGINT        | 外键   | 供应商ID       |
| warehouse_id | BIGINT        | 外键   | 目标仓库ID     |
| total_amount | DECIMAL(15,2) |        | 订单总金额     |
| status       | VARCHAR(20)   |        | 订单状态       |
| order_date   | DATETIME      |        | 下单日期       |

**任务**：管理采购订单。

### 5. purchase_order_details（采购订单明细表）

| 字段名     | 数据类型      | 键类型 | 描述           |
| :--------- | :------------ | :----- | :------------- |
| detail_id  | BIGINT        | 主键   | 明细ID（自增） |
| order_id   | BIGINT        | 外键   | 订单ID         |
| product_id | BIGINT        | 外键   | 商品ID         |
| quantity   | INT           |        | 采购数量       |
| price      | DECIMAL(10,2) |        | 采购单价       |
| subtotal   | DECIMAL(10,2) |        | 小计金额       |

**任务**：记录采购商品明细。

### 6. purchase_receipts（采购收货单）

| 字段名       | 数据类型 | 键类型 | 描述             |
| :----------- | :------- | :----- | :--------------- |
| receipt_id   | BIGINT   | 主键   | 收货单ID（自增） |
| order_id     | BIGINT   | 外键   | 采购订单ID       |
| warehouse_id | BIGINT   | 外键   | 收货仓库ID       |
| received_by  | BIGINT   | 外键   | 收货人ID         |
| receive_time | DATETIME |        | 收货时间         |

**任务**：记录商品收货信息。

### 7. purchase_receipt_details（采购收货明细表）

| 字段名       | 数据类型    | 键类型 | 描述           |
| :----------- | :---------- | :----- | :------------- |
| detail_id    | BIGINT      | 主键   | 明细ID（自增） |
| receipt_id   | BIGINT      | 外键   | 收货单ID       |
| product_id   | BIGINT      | 外键   | 商品ID         |
| quantity     | INT         |        | 实收数量       |
| batch_number | VARCHAR(50) |        | 批次号         |
| expire_date  | DATE        |        | 过期日期       |

**任务**：记录收货商品批次信息。

### 8. inventories（库存表）

| 字段名       | 数据类型     | 键类型 | 描述           |
| :----------- | :----------- | :----- | :------------- |
| inventory_id | BIGINT       | 主键   | 库存ID（自增） |
| product_id   | BIGINT       | 外键   | 商品ID         |
| warehouse_id | BIGINT       | 外键   | 仓库ID         |
| quantity     | INT          |        | 当前库存量     |
| batch_number | VARCHAR(50)  |        | 批次号         |
| location     | VARCHAR(100) |        | 库位信息       |

**任务**：实时记录商品库存状态。

### 9. stock_logs（库存变动日志表）

| 字段名          | 数据类型     | 键类型 | 描述           |
| :-------------- | :----------- | :----- | :------------- |
| log_id          | BIGINT       | 主键   | 日志ID（自增） |
| product_id      | BIGINT       | 外键   | 商品ID         |
| change_quantity | INT          |        | 变动数量       |
| reason          | VARCHAR(255) |        | 变动原因       |
| timestamp       | DATETIME     |        | 变动时间       |

**任务**：跟踪库存变化历史。

### 10. low_stock_alerts（库存预警表）

| 字段名       | 数据类型 | 键类型 | 描述           |
| :----------- | :------- | :----- | :------------- |
| alert_id     | BIGINT   | 主键   | 预警ID（自增） |
| product_id   | BIGINT   | 外键   | 商品ID         |
| threshold    | INT      |        | 预警阈值       |
| triggered_at | DATETIME |        | 触发时间       |

**任务**：管理库存不足预警。

### 11. waste_disposal_records（废弃商品处理记录表）

| 字段名        | 数据类型     | 键类型 | 描述           |
| :------------ | :----------- | :----- | :------------- |
| disposal_id   | BIGINT       | 主键   | 处理ID（自增） |
| product_id    | BIGINT       | 外键   | 商品ID         |
| warehouse_id  | BIGINT       | 外键   | 仓库ID         |
| quantity      | INT          |        | 处理数量       |
| reason        | VARCHAR(255) |        | 处理原因       |
| disposal_time | DATETIME     |        | 处理时间       |
| operator_id   | BIGINT       | 外键   | 操作人ID       |

**任务**：记录过期或损坏商品处理。

### 12. delivery_addresses（配送地址表）

| 字段名      | 数据类型     | 键类型 | 描述           |
| :---------- | :----------- | :----- | :------------- |
| address_id  | BIGINT       | 主键   | 地址ID（自增） |
| customer_id | BIGINT       | 外键   | 会员ID         |
| full_name   | VARCHAR(100) |        | 收货人姓名     |
| phone       | VARCHAR(20)  |        | 收货人电话     |
| address     | VARCHAR(255) |        | 详细地址       |

**任务**：管理会员配送地址。

### 13. delivery_records（配送记录表）

| 字段名          | 数据类型    | 键类型 | 描述           |
| :-------------- | :---------- | :----- | :------------- |
| record_id       | BIGINT      | 主键   | 记录ID（自增） |
| order_id        | BIGINT      | 外键   | 订单ID         |
| courier         | VARCHAR(50) |        | 配送员         |
| tracking_number | VARCHAR(50) |        | 物流单号       |
| status          | VARCHAR(20) |        | 配送状态       |
| delivered_at    | DATETIME    |        | 送达时间       |

**任务**：跟踪商品配送状态。

### 14. sms_notifications（短信通知记录表）

| 字段名    | 数据类型    | 键类型 | 描述           |
| :-------- | :---------- | :----- | :------------- |
| sms_id    | BIGINT      | 主键   | 短信ID（自增） |
| phone     | VARCHAR(20) |        | 接收手机号     |
| content   | TEXT        |        | 短信内容       |
| send_time | DATETIME    |        | 发送时间       |
| status    | VARCHAR(20) |        | 发送状态       |

**任务**：记录营销短信发送历史。

------

## 人事行政管理模块

### 1. employee_attendance（员工考勤记录表）

| 字段名        | 数据类型    | 键类型 | 描述           |
| :------------ | :---------- | :----- | :------------- |
| attendance_id | BIGINT      | 主键   | 考勤ID（自增） |
| employee_id   | BIGINT      | 外键   | 员工ID         |
| date          | DATE        |        | 考勤日期       |
| check_in      | DATETIME    |        | 上班打卡时间   |
| check_out     | DATETIME    |        | 下班打卡时间   |
| status        | VARCHAR(20) |        | 考勤状态       |

**任务**：记录员工每日考勤情况。

### 2. salaries（工资表）

| 字段名      | 数据类型      | 键类型 | 描述           |
| :---------- | :------------ | :----- | :------------- |
| salary_id   | BIGINT        | 主键   | 工资ID（自增） |
| employee_id | BIGINT        | 外键   | 员工ID         |
| base_salary | DECIMAL(15,2) |        | 基本工资       |
| bonus       | DECIMAL(15,2) |        | 奖金金额       |
| deductions  | DECIMAL(15,2) |        | 扣款金额       |
| net_salary  | DECIMAL(15,2) |        | 实发工资       |
| month       | VARCHAR(7)    |        | 工资月份       |

**任务**：管理员工每月工资信息。

### 3. shifts（排班表）

| 字段名      | 数据类型    | 键类型 | 描述           |
| :---------- | :---------- | :----- | :------------- |
| shift_id    | BIGINT      | 主键   | 班次ID（自增） |
| employee_id | BIGINT      | 外键   | 员工ID         |
| day_of_week | VARCHAR(10) |        | 星期几         |
| start_time  | TIME        |        | 上班时间       |
| end_time    | TIME        |        | 下班时间       |

**任务**：安排员工工作时间表。

### 4. performance_reviews（绩效考核表）

| 字段名      | 数据类型     | 键类型 | 描述           |
| :---------- | :----------- | :----- | :------------- |
| review_id   | BIGINT       | 主键   | 考核ID（自增） |
| employee_id | BIGINT       | 外键   | 被考核员工ID   |
| score       | DECIMAL(5,2) |        | 考核分数       |
| reviewer_id | BIGINT       | 外键   | 考核人ID       |
| review_date | DATETIME     |        | 考核日期       |

**任务**：记录员工绩效考核结果。

### 5. notifications（内部通知公告表）

| 字段名          | 数据类型     | 键类型 | 描述           |
| :-------------- | :----------- | :----- | :------------- |
| notification_id | BIGINT       | 主键   | 通知ID（自增） |
| title           | VARCHAR(255) |        | 通知标题       |
| content         | TEXT         |        | 通知内容       |
| sender_id       | BIGINT       | 外键   | 发送人ID       |
| send_time       | DATETIME     |        | 发送时间       |

**任务**：管理内部通知公告。

### 6. tasks（任务分配表）

| 字段名      | 数据类型     | 键类型 | 描述           |
| :---------- | :----------- | :----- | :------------- |
| task_id     | BIGINT       | 主键   | 任务ID（自增） |
| title       | VARCHAR(255) |        | 任务标题       |
| description | TEXT         |        | 任务描述       |
| assigner_id | BIGINT       | 外键   | 分配人ID       |
| deadline    | DATETIME     |        | 截止时间       |

**任务**：创建工作任务。

### 7. task_assignments（任务分配明细表）

| 字段名        | 数据类型    | 键类型 | 描述           |
| :------------ | :---------- | :----- | :------------- |
| assignment_id | BIGINT      | 主键   | 分配ID（自增） |
| task_id       | BIGINT      | 外键   | 任务ID         |
| employee_id   | BIGINT      | 外键   | 员工ID         |
| status        | VARCHAR(20) |        | 任务状态       |
| assigned_at   | DATETIME    |        | 分配时间       |

**任务**：分配任务给具体员工。

### 8. feedbacks（员工反馈建议表）

| 字段名       | 数据类型 | 键类型 | 描述           |
| :----------- | :------- | :----- | :------------- |
| feedback_id  | BIGINT   | 主键   | 反馈ID（自增） |
| employee_id  | BIGINT   | 外键   | 员工ID         |
| content      | TEXT     |        | 反馈内容       |
| submitted_at | DATETIME |        | 提交时间       |

**任务**：收集员工反馈建议。

### 9. reports（各类报表汇总表）

| 字段名       | 数据类型     | 键类型 | 描述           |
| :----------- | :----------- | :----- | :------------- |
| report_id    | BIGINT       | 主键   | 报表ID（自增） |
| title        | VARCHAR(255) |        | 报表标题       |
| type         | VARCHAR(50)  |        | 报表类型       |
| generated_by | BIGINT       | 外键   | 生成人ID       |
| generated_at | DATETIME     |        | 生成时间       |
| data         | TEXT         |        | 报表数据       |

**任务**：存储系统生成的各类报表。

### 10. email_templates（邮件模板表）

| 字段名      | 数据类型     | 键类型 | 描述           |
| :---------- | :----------- | :----- | :------------- |
| template_id | BIGINT       | 主键   | 模板ID（自增） |
| name        | VARCHAR(100) |        | 模板名称       |
| subject     | VARCHAR(255) |        | 邮件主题       |
| body        | TEXT         |        | 邮件正文       |
| created_at  | DATETIME     |        | 创建时间       |

**任务**：存储营销邮件模板。

### 11. daily_sales_summary（每日销售汇总表）

| 字段名          | 数据类型      | 键类型 | 描述           |
| :-------------- | :------------ | :----- | :------------- |
| summary_id      | BIGINT        | 主键   | 汇总ID（自增） |
| sale_date       | DATE          |        | 销售日期       |
| total_sales     | DECIMAL(15,2) |        | 销售总额       |
| total_orders    | INT           |        | 订单总数       |
| total_customers | INT           |        | 顾客总数       |

**任务**：汇总每日销售数据。

### 12. monthly_sales_summary（每月销售汇总表）

| 字段名       | 数据类型      | 键类型 | 描述           |
| :----------- | :------------ | :----- | :------------- |
| summary_id   | BIGINT        | 主键   | 汇总ID（自增） |
| year         | INT           |        | 年份           |
| month        | INT           |        | 月份           |
| total_sales  | DECIMAL(15,2) |        | 销售总额       |
| total_orders | INT           |        | 订单总数       |

**任务**：汇总月度销售数据。

### 13. product_sales_ranking（商品销量排行榜）

| 字段名         | 数据类型      | 键类型 | 描述           |
| :------------- | :------------ | :----- | :------------- |
| ranking_id     | BIGINT        | 主键   | 排行ID（自增） |
| product_id     | BIGINT        | 外键   | 商品ID         |
| total_quantity | INT           |        | 总销量         |
| total_amount   | DECIMAL(15,2) |        | 总销售额       |
| rank_date      | DATE          |        | 排行日期       |

**任务**：统计商品销售排名。

### 14. customer_behavior_analysis（顾客行为分析表）

| 字段名             | 数据类型      | 键类型 | 描述           |
| :----------------- | :------------ | :----- | :------------- |
| analysis_id        | BIGINT        | 主键   | 分析ID（自增） |
| customer_id        | BIGINT        |        | 顾客ID         |
| total_purchases    | INT           |        | 总购买次数     |
| avg_spending       | DECIMAL(15,2) |        | 平均消费金额   |
| favorite_category  | VARCHAR(50)   |        | 最喜爱分类     |
| last_purchase_time | DATETIME      |        | 最后购买时间   |

**任务**：分析顾客购物行为。

------

## 后勤资产管理模块

### 1. asset_types（资产类型表）

| 字段名    | 数据类型    | 键类型 | 描述           |
| :-------- | :---------- | :----- | :------------- |
| type_id   | BIGINT      | 主键   | 类型ID（自增） |
| type_name | VARCHAR(50) |        | 类型名称       |

**任务**：定义资产类别（设备、家具等）。

### 2. asset_locations（资产存放位置表）

| 字段名      | 数据类型     | 键类型 | 描述           |
| :---------- | :----------- | :----- | :------------- |
| location_id | BIGINT       | 主键   | 位置ID（自增） |
| area        | VARCHAR(100) |        | 区域           |
| shelf       | VARCHAR(50)  |        | 货架           |
| notes       | VARCHAR(255) |        | 备注           |

**任务**：管理资产存放位置。

### 3. assets（固定资产表）

| 字段名        | 数据类型      | 键类型 | 描述           |
| :------------ | :------------ | :----- | :------------- |
| asset_id      | BIGINT        | 主键   | 资产ID（自增） |
| name          | VARCHAR(100)  |        | 资产名称       |
| type_id       | BIGINT        | 外键   | 资产类型ID     |
| purchase_date | DATE          |        | 购买日期       |
| value         | DECIMAL(15,2) |        | 资产价值       |
| location_id   | BIGINT        | 外键   | 存放位置ID     |
| status        | VARCHAR(20)   |        | 资产状态       |

**任务**：记录固定资产信息。

### 4. maintenance_requests（设备维修申请表）

| 字段名       | 数据类型    | 键类型 | 描述           |
| :----------- | :---------- | :----- | :------------- |
| request_id   | BIGINT      | 主键   | 申请ID（自增） |
| asset_id     | BIGINT      | 外键   | 资产ID         |
| requested_by | BIGINT      | 外键   | 申请人ID       |
| description  | TEXT        |        | 问题描述       |
| status       | VARCHAR(20) |        | 处理状态       |
| submitted_at | DATETIME    |        | 提交时间       |

**任务**：管理设备维修申请。

### 5. maintenance_records（维修记录表）

| 字段名          | 数据类型      | 键类型 | 描述           |
| :-------------- | :------------ | :----- | :------------- |
| record_id       | BIGINT        | 主键   | 记录ID（自增） |
| request_id      | BIGINT        | 外键   | 申请ID         |
| technician_id   | BIGINT        | 外键   | 维修人员ID     |
| repair_cost     | DECIMAL(15,2) |        | 维修费用       |
| completion_time | DATETIME      |        | 完成时间       |

**任务**：记录设备维修历史。

### 6. vendors（后勤服务提供商表）

| 字段名         | 数据类型     | 键类型 | 描述             |
| :------------- | :----------- | :----- | :--------------- |
| vendor_id      | BIGINT       | 主键   | 供应商ID（自增） |
| name           | VARCHAR(100) |        | 供应商名称       |
| contact_person | VARCHAR(100) |        | 联系人           |
| phone          | VARCHAR(20)  |        | 联系电话         |
| service_type   | VARCHAR(50)  |        | 服务类型         |

**任务**：管理后勤服务供应商。

### 7. service_contracts（服务合同表）

| 字段名      | 数据类型      | 键类型 | 描述           |
| :---------- | :------------ | :----- | :------------- |
| contract_id | BIGINT        | 主键   | 合同ID（自增） |
| vendor_id   | BIGINT        | 外键   | 供应商ID       |
| start_date  | DATE          |        | 合同开始日期   |
| end_date    | DATE          |        | 合同结束日期   |
| amount      | DECIMAL(15,2) |        | 合同金额       |

**任务**：记录服务合同信息。

### 8. cleaning_schedules（清洁排班表）

| 字段名         | 数据类型     | 键类型 | 描述           |
| :------------- | :----------- | :----- | :------------- |
| schedule_id    | BIGINT       | 主键   | 排班ID（自增） |
| area           | VARCHAR(100) |        | 清洁区域       |
| time           | TIME         |        | 清洁时间       |
| frequency      | VARCHAR(50)  |        | 清洁频率       |
| responsible_id | BIGINT       | 外键   | 负责人ID       |

**任务**：安排清洁工作计划。

### 9. security_logs（安保日志表）

| 字段名      | 数据类型 | 键类型 | 描述           |
| :---------- | :------- | :----- | :------------- |
| log_id      | BIGINT   | 主键   | 日志ID（自增） |
| event       | TEXT     |        | 事件描述       |
| occurred_at | DATETIME |        | 发生时间       |
| reported_by | BIGINT   | 外键   | 报告人ID       |

**任务**：记录安保事件。

### 10. inventory_turnover_rate（库存周转率分析表）

| 字段名        | 数据类型      | 键类型 | 描述           |
| :------------ | :------------ | :----- | :------------- |
| analysis_id   | BIGINT        | 主键   | 分析ID（自增） |
| product_id    | BIGINT        | 外键   | 商品ID         |
| turnover_rate | DECIMAL(10,2) |        | 周转率         |
| start_date    | DATE          |        | 开始日期       |
| end_date      | DATE          |        | 结束日期       |

**任务**：分析商品库存周转效率。

### 11. profit_loss_statement（利润损益表）

| 字段名             | 数据类型      | 键类型 | 描述           |
| :----------------- | :------------ | :----- | :------------- |
| statement_id       | BIGINT        | 主键   | 报表ID（自增） |
| period_start       | DATE          |        | 期间开始       |
| period_end         | DATE          |        | 期间结束       |
| revenue            | DECIMAL(15,2) |        | 总收入         |
| cost_of_goods_sold | DECIMAL(15,2) |        | 销售成本       |
| gross_profit       | DECIMAL(15,2) |        | 毛利润         |
| operating_expenses | DECIMAL(15,2) |        | 运营费用       |
| net_profit         | DECIMAL(15,2) |        | 净利润         |

**任务**：记录财务损益情况。

### 12. dashboards（可视化仪表盘配置表）

| 字段名        | 数据类型     | 键类型 | 描述             |
| :------------ | :----------- | :----- | :--------------- |
| dashboard_id  | BIGINT       | 主键   | 仪表盘ID（自增） |
| user_id       | BIGINT       | 外键   | 用户ID           |
| title         | VARCHAR(100) |        | 仪表盘标题       |
| layout_config | TEXT         |        | 布局配置         |
| created_at    | DATETIME     |        | 创建时间         |
| updated_at    | DATETIME     |        | 更新时间         |

**任务**：存储用户自定义数据看板配置。

------

## 数据库设计特点

1. **模块化设计**：七大功能模块清晰划分业务领域
2. **权限控制**：用户-角色-权限三级管理体系
3. **库存追溯**：批次管理+库存日志实现全流程追踪
4. **销售分析**：多维度销售统计报表
5. **全链路覆盖**：采购→库存→销售→财务完整闭环
6. **扩展性强**：会员管理和线上订单支持业务拓展
7. **数据驱动**：丰富的分析报表支持决策

> 本数据库共包含72张数据表，193个字段，全面覆盖超市运营的各个环节，为超市数字化管理提供坚实基础。